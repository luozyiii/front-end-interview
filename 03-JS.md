# JS 基础

## 变量类型和计算

### 题目

- typeof 能判断哪些类型？

- 何时使用 === 何时使用 ==？

- 值类型和引用类型的区别？

- 手写深拷贝？

### 知识点

####  变量类型

##### 值类型 vs 引用类型(堆栈模型)
```javascript
// 值类型：在栈中存储
let a = 100
let b = a
a = 200
console.log(b) // 100

// 引用类型：在栈中存储的是堆的内存地址
let c = { age: 20 }
let d = c
d.age = 21
console.log(c.age) // 21

// 常见的值类型
let a // undefined
const s = 'abc'
const n = 100
const b = true
const z = Symbol('z')

// 常见引用类型
const obj = { x: 100 }
const arr = ['a', 'b', 'c']
const n = null // null：特殊引用类型，指针指向了空地址
// 函数：特殊引用类型，但不用于存储数据，所有没有“拷贝、复制函数”这一说
function fn() {}
```

##### typeof运算符
- 识别所有值类型
```javascript
let a;                   typeof a   // 'undefined'
const str = 'abc';       typeof str // 'string'
const n = 100;           typeof n   // 'number'
const b = true;          typeof b   // 'boolean'
const z = Symbol('z');   typeof z   // 'symbol'
```

- 识别函数
```javascript
typeof console.log       // 'function'
typeof function() {}     // 'function'
```

- 判断是否是引用类型(不可再细分)
```javascript
typeof null              // 'object'
typeof ['b','b']         // 'object'
typeof { x: 10 }         // 'object'

```

##### 深拷贝
> js-demo
- 注意判断值类型和引用类型
- 注意判断是数组还是对象
- 递归

#### 变量计算-类型转换
```javascript
// 字符串拼接
const a = 100 + 10    // 110
const b = 100 + '10'  // '11010'
const c = true + '10' // 'true10'

// == 运算符
100 == '100'  // true
0 == ''       // true
0 == false    // true
fales == ''   // true
null == undefined // true

// 除了 == null 之外，其他都一律使用 === ，例如：
const obj = {x: 100}
if(obj.a == null) {}
// 相当于
// if(obj.a === null || obj.a === undefined) {}
```

- if语句和逻辑判断
```javascript
// truly变量： !!a === true 的变量
// falsely变量：!!a === false 的变量

// 以下是 falsely 变量。除此之外都是 truly 变量
!!0 === false
!!NaN === false
!!'' === false
!!null === false
!!undefined === false
!!false === false

// 逻辑判断
console.log(10 && 0) // 0
console.log('' || 'abc') // 'abc'
console.log(!window.abc) // true
```